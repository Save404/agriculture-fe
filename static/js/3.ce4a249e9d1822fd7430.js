webpackJsonp([3],{"/YkU":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("S352"),s=n("gHxB"),a={name:"MjLogin",components:{TransHeader:i.a,LoginContainer:s.a},data:function(){return{url:"http://localhost:8080/mj/mj_login",MjLoginForm:{telephone:"",password:""}}}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"Mj-login"}},[e("trans-header"),this._v(" "),e("login-container",{attrs:{form:this.MjLoginForm,url:this.url}})],1)},staticRenderFns:[]};var r=n("VU/8")(a,o,!1,function(t){n("8nI1")},"data-v-826a3098",null);e.default=r.exports},"/pwC":function(t,e,n){var i=n("5SqK");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("rjj0").default)("17bc05e0",i,!0,{})},"5SqK":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.el-button[data-v-65a83408] {\n  font-family: sans-serif;\n  font-size: 50px;\n}\n.el-button.useful[data-v-65a83408]:hover {\n  font-weight: bold;\n}\n",""])},"8nI1":function(t,e,n){var i=n("krGB");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("rjj0").default)("06742376",i,!0,{})},In39:function(t,e,n){var i=n("sAEw");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("rjj0").default)("084fdfd2",i,!0,{})},NgEB:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,'\n.drag[data-v-6a96f9da] {\n  position: relative;\n  background-color: #e8e8e8;\n  width: 100%;\n  height: 34px;\n  line-height: 34px;\n  text-align: center;\n}\n.handler[data-v-6a96f9da] {\n  width: 40px;\n  height: 32px;\n  border: 1px solid #ccc;\n  cursor: move;\n}\n.handler_bg[data-v-6a96f9da] {\n  background: #fff url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0ZDhlNWY5My05NmI0LTRlNWQtOGFjYi03ZTY4OGYyMTU2ZTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTEyNTVEMURGMkVFMTFFNEI5NDBCMjQ2M0ExMDQ1OUYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTEyNTVEMUNGMkVFMTFFNEI5NDBCMjQ2M0ExMDQ1OUYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MTc5NzNmZS02OTQxLTQyOTYtYTIwNi02NDI2YTNkOWU5YmUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NGQ4ZTVmOTMtOTZiNC00ZTVkLThhY2ItN2U2ODhmMjE1NmU2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+YiRG4AAAALFJREFUeNpi/P//PwMlgImBQkA9A+bOnfsIiBOxKcInh+yCaCDuByoswaIOpxwjciACFegBqZ1AvBSIS5OTk/8TkmNEjwWgQiUgtQuIjwAxUF3yX3xyGIEIFLwHpKyAWB+I1xGSwxULIGf9A7mQkBwTlhBXAFLHgPgqEAcTkmNCU6AL9d8WII4HOvk3ITkWJAXWUMlOoGQHmsE45ViQ2KuBuASoYC4Wf+OUYxz6mQkgwAAN9mIrUReCXgAAAABJRU5ErkJggg==") no-repeat center;\n}\n.handler_ok_bg[data-v-6a96f9da] {\n  background: #fff url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0ZDhlNWY5My05NmI0LTRlNWQtOGFjYi03ZTY4OGYyMTU2ZTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDlBRDI3NjVGMkQ2MTFFNEI5NDBCMjQ2M0ExMDQ1OUYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDlBRDI3NjRGMkQ2MTFFNEI5NDBCMjQ2M0ExMDQ1OUYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphNWEzMWNhMC1hYmViLTQxNWEtYTEwZS04Y2U5NzRlN2Q4YTEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NGQ4ZTVmOTMtOTZiNC00ZTVkLThhY2ItN2U2ODhmMjE1NmU2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+k+sHwwAAASZJREFUeNpi/P//PwMyKD8uZw+kUoDYEYgloMIvgHg/EM/ptHx0EFk9I8wAoEZ+IDUPiIMY8IN1QJwENOgj3ACo5gNAbMBAHLgAxA4gQ5igAnNJ0MwAVTsX7IKyY7L2UNuJAf+AmAmJ78AEDTBiwGYg5gbifCSxFCZoaBMCy4A4GOjnH0D6DpK4IxNSVIHAfSDOAeLraJrjgJp/AwPbHMhejiQnwYRmUzNQ4VQgDQqXK0ia/0I17wJiPmQNTNBEAgMlQIWiQA2vgWw7QppBekGxsAjIiEUSBNnsBDWEAY9mEFgMMgBk00E0iZtA7AHEctDQ58MRuA6wlLgGFMoMpIG1QFeGwAIxGZo8GUhIysmwQGSAZgwHaEZhICIzOaBkJkqyM0CAAQDGx279Jf50AAAAAABJRU5ErkJggg==") no-repeat center;\n}\n.drag_bg[data-v-6a96f9da] {\n  background-color: #7ac23c;\n  height: 34px;\n  width: 0px;\n}\n.drag_text[data-v-6a96f9da] {\n  position: absolute;\n  top: 0px;\n  width: 100%;\n  text-align: center;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  user-select: none;\n  -o-user-select: none;\n  -ms-user-select: none;\n}\n\n',""])},NkAL:function(t,e,n){var i=n("NgEB");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("rjj0").default)("b3660a12",i,!0,{})},S352:function(t,e,n){"use strict";var i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"trans-header"},[n("router-link",{staticStyle:{position:"fixed",top:"2%",right:"2%","font-size":"1.2em"},attrs:{to:"/govlogin"}},[t._v("政府人员登录")]),t._v(" "),n("el-header",{attrs:{height:""}},[n("el-button",{staticClass:"useful",attrs:{type:"text"},on:{click:t.transFarmer}},[t._v("我是农户  ")]),t._v(" "),n("el-button",{attrs:{type:"text"}},[t._v("|")]),t._v(" "),n("el-button",{staticClass:"useful",attrs:{type:"text"},on:{click:t.transMj}},[t._v("我是买家")])],1)],1)},staticRenderFns:[]};var s=n("VU/8")({name:"TransHeader",methods:{transMj:function(){this.$router.push({name:"mjLogin"}),this.$message({message:"已切换至买家登录模式",type:"success"})},transFarmer:function(){this.$router.push({name:"nhLogin"}),this.$message({message:"已切换至农户登录模式",type:"success"})}}},i,!1,function(t){n("/pwC")},"data-v-65a83408",null);e.a=s.exports},gHxB:function(t,e,n){"use strict";var i={data:function(){return{beginClientX:0,mouseMoveStata:!1,maxwidth:"",confirmWords:"拖动滑块验证",confirmSuccess:!1}},methods:{mousedownFn:function(t){this.confirmSuccess||(t.preventDefault&&t.preventDefault(),this.mouseMoveStata=!0,this.beginClientX=t.clientX)},successFunction:function(){this.confirmSuccess=!0,this.confirmWords="验证通过",window.addEventListener?(document.getElementsByTagName("html")[0].removeEventListener("mousemove",this.mouseMoveFn),document.getElementsByTagName("html")[0].removeEventListener("mouseup",this.moseUpFn)):document.getElementsByTagName("html")[0].removeEventListener("mouseup",function(){}),document.getElementsByClassName("drag_text")[0].style.color="#fff",document.getElementsByClassName("handler")[0].style.left=this.maxwidth+"px",document.getElementsByClassName("drag_bg")[0].style.width=this.maxwidth+"px",this.$emit("got",!0)},mouseMoveFn:function(t){if(this.mouseMoveStata){var e=t.clientX-this.beginClientX;e>0&&e<=this.maxwidth?(document.getElementsByClassName("handler")[0].style.left=e+"px",document.getElementsByClassName("drag_bg")[0].style.width=e+"px"):e>this.maxwidth&&this.successFunction()}},moseUpFn:function(t){this.mouseMoveStata=!1,t.clientX-this.beginClientX<this.maxwidth&&(document.getElementsByClassName("handler")[0].style.left="0px",document.getElementsByClassName("drag_bg")[0].style.width="0px")}},mounted:function(){this.maxwidth=this.$refs.dragDiv.clientWidth-this.$refs.moveDiv.clientWidth,document.getElementsByTagName("html")[0].addEventListener("mousemove",this.mouseMoveFn),document.getElementsByTagName("html")[0].addEventListener("mouseup",this.moseUpFn)}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"dragDiv",staticClass:"drag"},[n("div",{staticClass:"drag_bg"}),t._v(" "),n("div",{staticClass:"drag_text"},[t._v(t._s(t.confirmWords))]),t._v(" "),n("div",{ref:"moveDiv",staticClass:"handler handler_bg",class:{handler_ok_bg:t.confirmSuccess},staticStyle:{position:"absolute",top:"0px",left:"0px"},on:{mousedown:function(e){t.mousedownFn(e)}}})])},staticRenderFns:[]};var a={name:"LoginContainer",props:["form","url"],components:{Captcha:n("VU/8")(i,s,!1,function(t){n("NkAL")},"data-v-6a96f9da",null).exports},data:function(){return{captcha:!1,rules:{telephone:[{required:!0,message:"请输入手机号码",trigger:"blur"},{min:11,max:11,message:"请输入11位手机号码",trigger:"blur"},{pattern:/^1[34578]\d{9}$/,message:"目前只支持中国大陆的手机号码",trigger:"blur"}],password:[{required:!0,message:"请输入登录密码",trigger:"blur"},{min:6,max:20,message:"请输入6-20位密码",trigger:"blur"}]}}},methods:{setCaptcha:function(t){this.captcha=t},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){return t?e.captcha?void e.onSubmit():(e.$message("请拖动滑块以完成验证"),!1):(e.$message("请检查手机号码或密码格式"),!1)})},handleLogin:function(){var t=this;this.$refs.form.validate(function(e){if(e)return console.log("error submit!!"),!1;t.loading=!0,t.$store.dispatch("Login",t.form).then(function(){t.loading=!1,t.$router.push({path:"/"})}).catch(function(){t.loading=!1})})},onSubmit:function(){var t=this;this.url.includes("nh")?(this.loading=!0,this.$store.dispatch("NhLogin",this.form).then(function(){t.loading=!1,t.$router.push({path:"/"})}).catch(function(){t.loading=!1})):this.url.includes("mj")&&(this.loading=!0,this.$store.dispatch("MjLogin",this.form).then(function(){t.loading=!1,t.$router.push({path:"/"})}).catch(function(){t.loading=!1}))},resetPassword:function(){this.$message("重置密码！！")},goRegister:function(){this.url.includes("nh")?this.$router.push({name:"nhRegister"}):this.$router.push({name:"mjRegister"})},resetForm:function(t){this.$refs[t].resetFields()}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"手机号码",prop:"telephone"}},[n("el-input",{attrs:{placeholder:"请输入11位手机号码"},model:{value:t.form.telephone,callback:function(e){t.$set(t.form,"telephone",e)},expression:"form.telephone"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"登录密码",prop:"password"}},[n("el-input",{attrs:{type:"password",placeholder:"请输入登录密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"验证码"}},[n("captcha",{on:{got:t.setCaptcha}})],1),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("form")}}},[t._v("立即登录")]),t._v(" "),n("el-button",{on:{click:function(e){t.resetForm("form")}}},[t._v("取消")]),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("el-button",{attrs:{type:"info"},on:{click:t.resetPassword}},[t._v("忘记密码")]),t._v(" "),n("el-button",{attrs:{type:"success"},on:{click:t.goRegister}},[t._v("无账号，去注册")])],1)],1)},staticRenderFns:[]};var r=n("VU/8")(a,o,!1,function(t){n("In39")},"data-v-18977f60",null);e.a=r.exports},krGB:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n*[data-v-826a3098] {\n  text-align: center;\n}\n.login-form[data-v-826a3098] {\n  height: 100%;\n  width: 100%;\n}\n.login[data-v-826a3098] {\n  width: 40%;\n  margin-top: 70px;\n  position: absolute;\n  left: 50%;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n}\n.trans-header[data-v-826a3098] {\n  position: relative;\n  padding-top: 70px;\n}\n\n",""])},sAEw:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.el-form-item[data-v-18977f60] {\n  -webkit-transform: translateX(-40px);\n          transform: translateX(-40px);\n}\n\n",""])}});